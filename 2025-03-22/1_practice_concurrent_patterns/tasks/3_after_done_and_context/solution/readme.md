# Дополнительные вопросы после выполнения заданий

> [!question]- Обратили ли вы внимание на то, что не всегда повар сразу завершает работу, а берет новый заказ когда сигнал завершения работы уже поступил
Почему такое может происходить?

> [!answer]- Ответ
> Такое может произойти, потому что в select выбор case для каналов, которые готовы записать или прочитать
> происходит случайным образом (на самом деле псевдослучайным, но в данном контексте можно считать за случайный)
> 
> Поэтому в нашем коде повар может взять новый заказ, прежде чем прочитает уведомление о завершении.

> [!question]- Повара у нас доготавливали пиццу даже, если сигнал о завершении приходил
Возможно ли сделать так, чтобы повар прекращал работу над пиццей немедленно,
если пришел сигнал завершения?

> [!answer]- Ответ
> Да, такое вполне возможно. Но нужно подумать, почему вообще так происходит.


> [!answer]- Продолжение
> Такое происходит, потому что в момент, когда мы заказ взяли - у нас блокируется работа горутины
> методом Sleep.
> Как же такое можно решить?
> 
> [!answer]- Продолжение
> Можно добавить еще один select внутрь кода исполнения заказа.
> Что же на прописать в select?
> Ну нам точно нужно поймать там сигнал завершения работы.
> Ну и вызвать какое-то неблокируещее (в рамках select) ожидание
